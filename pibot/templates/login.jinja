{#
  PiBot - A site for controlling Raspberry Pi Powered robots
  Copyright (C) 2015  Mitame

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
#}

{% extends "base.jinja" %}
{% set title="Login" %}
{% set user=get_current_user(required=False, redirect_on_logged_in="/") %}

{% block data %}
  <h2>Login</h2>
  Don't have an account? <a href="/signup">Create one!</a>
  <form method="POST">
    {% if error_message %}
      <div class="row">
        <div class="col s12 m4 l4">
          <div class="red" style="padding: 4px">
            {{ error_message }}
          </div>
        </div>
      </div>
    {% endif %}

    {% if status_message %}
      <div class="row">
        <div class="col s12 m4 l4">
          <div style="padding: 4px">
            {{ status_message }}
          </div>
        </div>
      </div>
    {% endif %}

    <div class="row">
      <div class="col s12 m4 l4 input-field">
        <input type="text" name="username" id="login_username" value="{{ username }}"/>
        <label for="login_username">Username</label>
      </div>
    </div>

    <div class="row">
      <div class="col s12 m4 l4 input-field">
        <input type="password" name="password" id="login_password" />
        <label for="login_password">Password</label>
      </div>
    </div>

    <div class="row">
      <div class="col s12 m4 l4">
        <button class="btn waves-effect waves-light" type="submit" name="login">Login
          <i class="material-icons right">send</i>
        </button>
      </div>
    </div>

    <p>
      <input type="checkbox" class="filled-in" name="remember_me" id="login_remember_me" checked="checked" />
      <label for="login_remember_me">Remember me</label>
    </p>
  </form>
{% endblock %}
